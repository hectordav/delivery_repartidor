{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    LoginPage\n  ]\n})\nexport class LoginPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IonicPage, NavController, ToastController,Platform } from 'ionic-angular';\nimport {PrloginProvider}from '../../providers/prlogin/prlogin';\nimport { User } from '../../providers/providers';\nimport { Diagnostic } from '@ionic-native/diagnostic';\nimport {SrvalerttoastService} from '../../services/srv-alert-toast';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html'\n})\nexport class LoginPage {\n  cuenta:any={\n  correo:'',\n  pass:'',\n  token:'',\n  serial:''};\n  result_login:any;\n\n  constructor(public navCtrl: NavController,public user: User,public toastCtrl: ToastController,public translateService: TranslateService,public prlogin:PrloginProvider,public platform:Platform, public alert_toast:SrvalerttoastService,private diagnostic: Diagnostic,) {\n    this.verificar_gps();\n  }\n\n    // Attempt to login in through our User service\n  public login_manual(){\n    let login=this.cuenta.correo;\n    let pass= this.cuenta.pass;\n    let token=1;/*this.prlogin.getToken();*//*<--*/\n    let serial=1;/*this.prlogin.get_serial();*//*<--*/\n     this.prlogin.login_manual(login,pass,token,serial).subscribe(\n        login => {\n        let result_login=login;\n        let data=result_login.data;\n        let mensaje=result_login.mensaje;\n        \n        let result=this.result_login;\n         console.log(result);\n         if(mensaje=='NO Existe Usuario') {\n           let mensaje='Login y contraseña no validos';\n           this.loading_toast(mensaje);\n         }else{\n            let id_usuario;\n            let nombre;\n            let login;\n            let id_nivel;\n            let id_cliente;\n            let cedula_cliente;\n            let direccion;\n            let telf;\n            for(let value of data) {\n             id_usuario=value.id_usuario;\n             nombre=value.nombre;\n             login=value.login;\n             id_nivel=value.id_nivel;\n             id_cliente=value.id_cliente;\n             cedula_cliente=value.cedula_cliente;\n             direccion=value.direccion;\n             telf=value.telf;\n            }\n           if(id_nivel==1 || id_nivel==4|| id_nivel==3) {\n             let mensaje='Debes ser un repartidor para iniciar sesion';\n             this.loading_toast(mensaje);\n           }else{\n             this.prlogin.set_inicio_sesion(data);\n             localStorage.setItem('delivery_repartidor',JSON.stringify(data))\n             this.navCtrl.setRoot('HomePage');\n           }\n           console.log('entra en el else');\n         }\n        },\n        err => {console.log(err);\n        },\n      );\n  }\n  loading_toast(valor){\n    let toast = this.toastCtrl.create({\n        message: valor,\n        duration: 3000,\n        position: 'middle'\n      });\n      toast.present();\n  }\n   /*verifica si el GPS está activo o no*/\n  verificar_gps(){\n    this.platform.ready().then((readySource) => {\n    this.diagnostic.isLocationEnabled().then(\n    (isAvailable) => {\n    let gps:any=isAvailable;\n    if(gps==false) {\n      let _titulo=\"Error\";\n      let _mensaje= 'Detectamos que el GPS está apagado; para poder utilizar la aplicacion debe Encender el GPS; cierre la aplicacion encienda su GPS e Intente de nuevo';\n       this.alert_toast.show_alert(_titulo,_mensaje);\n    }\n    }).catch( (e) => {\n    console.log(e);\n    console.log(JSON.stringify(e));\n    });\n    });\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}