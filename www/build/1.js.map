{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts","../../src/components/map-ubicacion/map-ubicacion.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\nimport {MapUbicacionComponent} from '../../components/map-ubicacion/map-ubicacion';\n\n@NgModule({\n  declarations: [\n    HomePage,\n    MapUbicacionComponent\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n  ],\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component,ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams,Navbar } from 'ionic-angular';\nimport {PrloginProvider} from \"../../providers/prlogin/prlogin\";\nimport {PrubicacionProvider} from \"../../providers/prubicacion/prubicacion\";\nimport {PrpedidosProvider} from \"../../providers/prpedidos/prpedidos\";\nimport {SrvalerttoastService} from \"../../services/srv-alert-toast\";\n\n/*estoy llamando el map-ubicacion del component para no crear el mapa directo en el modulo home*/\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n})\nexport class HomePage {\n  @ViewChild(Navbar) navBar: Navbar;\n\tresult_ubicacion:any;\n\tid_usuario:any;\n\tresult_pedidos:any;\n\tresult_det_pedido:any;\n  constructor(public navCtrl: NavController, public navParams: NavParams, public login: PrloginProvider, public ubicacion:PrubicacionProvider, public pr_pedido:PrpedidosProvider, public pr_alert_toast:SrvalerttoastService) {\n  }\n  ionViewDidEnter(){\n    console.log('did enter');\n    this.get_pedido_id_repartidor();\n    setTimeout(()=>{\n     this.guardar_ubicacion();\n     },3000);\n  }\n  guardar_ubicacion(){\n    let data=JSON.parse(localStorage.getItem('delivery_repartidor'));\n    this.login.set_inicio_sesion(data);\n  \tlet result_login=this.login.get_inicio_sesion();\n    console.log(result_login);\n\t\tlet id_usuario;\n\t\t for(let value of result_login) {\n\t\t\tid_usuario=value.id_usuario;\n\t\t\tthis.id_usuario=id_usuario;\n\t\t }\n\t\tlet lat_lng=this.login.getMylat()+','+this.login.getMylng();\n\t\tconsole.log(lat_lng);\n\n\t\t this.ubicacion.guardar_ubicacion(id_usuario,lat_lng).subscribe(\n\t\t    ubicacion => {\n\t\t      this.result_ubicacion=ubicacion;\n\t\t       console.log('ubicacion_guardada');\n\t\t    },\n\t\t    err => {console.log(\"NO EXISTE REGISTRO\");\n\t\t    },\n\t\t  );\n  }\n  get_pedido_id_repartidor(){\n     let data=JSON.parse(localStorage.getItem('delivery_repartidor'));\n    this.login.set_inicio_sesion(data);\n    let result_login=this.login.get_inicio_sesion();\n  \tlet _id_usuario; /*ojo quitar*/\n     for(let value of result_login) {\n      _id_usuario=value.id_usuario;\n      this.id_usuario=_id_usuario;\n     }\n     let mensaje='Cargando pedidos pendientes';\n      this.pr_alert_toast.show_loading(mensaje);\n  \t this.pr_pedido.get_pedido_id_repartidor(_id_usuario).subscribe(\n  \t    pr_pedido => {\n  \t      this.result_pedidos=pr_pedido;\n  \t      console.log(this.result_pedidos);\n          this.pr_alert_toast.dismis_loading();\n  \t       console.log(\"REGISTROS pedidos asignados a repartidor\");\n  \t    },\n  \t    err => {console.log(\"NO EXISTE REGISTRO\");\n  \t    },\n  \t  );\n  }\n  ver_pedido(item){\n  \tlet _id_pedido=item.id_pedido;\n  \tthis.pr_pedido.set_result_pedido(item);\n  \t this.pr_pedido.get_det_pedido_id_pedido(_id_pedido).subscribe(\n  \t    pr_pedido => {\n  \t      this.result_det_pedido=pr_pedido;\n  \t\t\t\tthis.pr_pedido.set_result_det_pedido(this.result_det_pedido);\n  \t       console.log(\"REGISTRO EXISTE\");\n  \t       this.navCtrl.push('PedidoDescripcionPage');\n  \t    },\n  \t    err => {console.log(\"NO EXISTE REGISTRO\");\n  \t    },\n  \t  );\n  }\n  buscar_nuevos_pedidos(){\n     this.navCtrl.push('PedidoBuscarPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component,OnInit } from '@angular/core';\nimport {NativeGeocoder} from '@ionic-native/native-geocoder';\nimport {PrloginProvider} from \"../../providers/prlogin/prlogin\";\ndeclare var google: any;\n@Component({\n  selector: 'map-ubicacion',\n  templateUrl: 'map-ubicacion.html'\n})\nexport class MapUbicacionComponent implements OnInit {\n\n \tpublic map; \n  g_latitud:any;\n  g_longitud:any;\n  g_lat_home:any;\n  g_lng_home:any;\n  lat_lng:any;\n  constructor(public login:PrloginProvider,public geocode:NativeGeocoder) {\n    console.log('Hello MapUbicacionComponent Component');\n  }\n  ngOnInit(){\n    this.g_lat_home=this.login.getMylat_home();\n    this.g_lng_home=this.login.getMylng_home();  \n    this.map=this.createMap();\t\t\n  }\n   createMap(location= new google.maps.LatLng(25.686614, -100.316113)){\n  \tlet mapOptions={\n  \t\tcenter: location,\n  \t\tzoom:16, \n  \t\tmapTypeId: google.maps.MapTypeId.ROADMAP,\n  \t\tdisableDefaultUI: true,\n  \t}\n  \tlet mapEl=document.getElementById('mapa');\n  \tlet map= new google.maps.Map(mapEl,mapOptions);\n    // use GPS to get center position\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n      \tlet newLatLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n        this.g_lat_home=this.login.getMylat_home();\n        this.g_lng_home=this.login.getMylng_home();\n        this.g_latitud=position.coords.latitude;\n        this.g_longitud=position.coords.longitude;\n        this.login.setMylat(this.g_latitud);\n        this.login.setMylng(this.g_longitud);\n        this.lat_lng=newLatLng;\n        console.log(this.g_latitud);\n     \n        this.map.setCenter(newLatLng);\n        this.Position_Marker();\n    }\n    );\n  \treturn map;\n  }\n  \tPosition_Marker(){\n\t\t\tlet icono = \"assets/img/cliente.png\";\n\t\t\tlet marker = new google.maps.Marker({\n\t\t\tmap: this.map,\n\t\t\t/* animation: google.maps.Animation.DROP,*/\n\t\t\tposition: this.lat_lng,\n\t\t\tdraggable: true,\n\t\t\ticon:icono\n\t\t\t});\n\t\t\tlet content = \"<h4>Usted est√° aqui</h4>\";\n\t\t\tthis.Position_lat_lng(marker, content);\n\t\t}\nPosition_lat_lng(marker, content){\n  /*let infoWindow = new google.maps.InfoWindow({\n    content: content\n  }); */\n  google.maps.event.addListener(marker, 'dragend', () => {\n    this.g_latitud=marker.getPosition().lat();\n    this.g_longitud=marker.getPosition().lng()\n    this.login.setMylat(this.g_latitud);\n    this.login.setMylng(this.g_longitud);\n    console.log(this.g_latitud);\n    console.log(this.g_longitud);\n    /*infoWindow.open(this.map, marker);*/\n  });\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/map-ubicacion/map-ubicacion.ts"],"sourceRoot":""}